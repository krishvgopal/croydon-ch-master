<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Create New Debt Action</title>  
</head>
    <body>
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">Confirm Action!</h4>
        </div>
        <div class="modal-body">
            <textarea class="ckeditor" name="templateContentAmend" id="templateContentAmend"></textarea>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" onclick="doClose();" >Cancel</button><!-- data-dismiss="modal" -->
            <button type="button" class="btn btn-primary" onclick="doSaveAndCloseWrapper();">Save &amp; Close</button>
            <button type="button" class="btn btn-primary" onclick="doSaveWrapper();" >Save</button>
            <button type="button" class="btn btn-primary" onclick="doPrintWrapper();">Print</button>
        </div>
        <script>
            CKEDITOR.replace('templateContentAmend', { height: 550, width: 775 });
            var itemId = $('#debtActionEditModal').attr('itemId');

            openSavedItem(itemId, 'templateContentAmend');

            function doClose() {
                console.log('doClose');
                $('#debtActionEditModal').modal('hide');
            }
            function doSaveWrapper() {
                var doc = CKEDITOR.instances['templateContentAmend'].getData();
                var itemId = $('#debtActionEditModal').attr('itemId');
                doSave(itemId, doc, 'debtActionEditModal');
            }
            function doPrintWrapper() {
                var doc = CKEDITOR.instances['templateContentAmend'].getData();
                var itemId = $('#debtActionEditModal').attr('itemId');
                doSave(itemId, doc, 'debtActionEditModal');
                doPrint(itemId, doc, 'debtActionEditModal');
                $("#debtActionEditModal").modal('hide');
            }
            function doSaveAndCloseWrapper() {
                var doc = CKEDITOR.instances['templateContentAmend'].getData();
                var itemId = $('#debtActionEditModal').attr('itemId');
                doSave(itemId, doc, 'debtActionEditModal');
                $("#debtActionEditModal").modal('hide');
            }
        </script>
    </body>
</html>

